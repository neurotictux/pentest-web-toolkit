import openSocket from 'socket.io-client'
import { mapSocketActions } from './actions/index'

const clientSocket = (() => {
  const _self = {}
  let socket = null
  _self.init = dispatch => {
    socket = openSocket()
    mapSocketActions(socket, dispatch)
  }
  _self.bannerGrabbing = data => socket.emit('NMAP_BUNNER_GRABBING', data)

  _self.networkSweeping = data => {
    console.log(data)
    socket.emit('NMAP_NETWORK_SWEEPING', data)
  }

  return _self
})()

export const ClientSocket = clientSocket